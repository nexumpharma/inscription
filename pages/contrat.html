<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Contrat</title>
  <link rel="stylesheet" href="../assets/css/style.css" />
  <style>
    .step {
      display: none;
      margin: 1rem auto;
      padding: 1rem;
      border: 1px solid #ccc;
      border-left: 5px solid #0070f3;
      background: #f9f9f9;
      max-width: 700px;
      font-weight: bold;
    }
    .step.visible { display: block; }
    .step.done { border-left-color: green; }
    .step.error { border-left-color: red; }
    .step.pending { border-left-color: orange; }

    .button-container {
      display: flex;
      justify-content: space-between;
      max-width: 700px;
      margin: 2rem auto;
      gap: 1rem;
    }

    .button-container button,
    .main-button {
      padding: 0.8rem 1.5rem;
      border: none;
      background-color: black;
      color: white;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
    }

    .button-container button:hover,
    .main-button:hover {
      background-color: #333;
    }

.lien-contrat {
  display: inline-block;
  font-size: 18px;
  font-weight: bold;
  color: #007e33;
  text-decoration: none;
  padding: 0.75rem 1.5rem;
  border: 2px solid #007e33;
  border-radius: 8px;
  transition: all 0.2s ease;
}
.lien-contrat:hover {
  background-color: #007e33;
  color: white;
}

  </style>
</head>
<body>
  <div id="app" data-page="contrat">

    <!-- component:Header -->
    <header>
      <h1>
        <a href="../index.html" style="color: inherit; text-decoration: none;">
          <strong>NEXUM</strong>PHARMA
        </a>
      </h1>
    </header>

    <!-- component:Status -->
    <div id="status-container" style="display: none;" class="status-container">
      <div id="status">Chargement...</div>
      <button id="logoutBtn" class="logoutBtn">Se déconnecter</button>
    </div>

    <!-- component:Main -->
    <main>
      <section id="progress">
        <h2>Signature du contrat</h2>

        <div id="step2" class="step">📄 Génération du contrat en cours...</div>
        <div id="step3" class="step">📬 Envoi du contrat pour signature...</div>
        <div id="step4" class="step">📑 Prêt à signer !</div>

        <!-- Bouton signer ou voir le contrat, centré -->
        <div style="text-align: center; margin-top: 2rem;">
          <a id="sign-button" class="lien-contrat" style="display: none;" target="_blank">
          🖊️ Signer le contrat
          </a>

        </div>

        <!-- Boutons Précédent / Suivant -->
        <div id="action-buttons" class="button-container" style="display: none;">
          <button type="button" onclick="window.location.href='infos.html'">Précédent</button>
          <button type="button" onclick="window.location.href='rib.html'">Suivant</button>
        </div>
      </section>
    </main>

    <!-- component:Footer -->
    <footer>
      <p style="text-align: center; font-size: 0.9em; color: #888;">© Nexum Pharma 2025</p>
    </footer>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.5/dist/umd/supabase.js" defer></script>
  <script src="../assets/js/config.js" defer></script>
  <script src="../assets/js/auth.js" defer></script>
  <script src="../assets/js/contrat.js" defer></script>
</body>
</html>
